import{s as W,n as q,o as X,b as Y}from"../chunks/scheduler.y3HUEU4R.js";import{S as Z,i as $,s as P,k as H,f as S,g as E,l as B,d as u,e as v,t as D,c as w,a as N,b as T,m as Q,n as b,h as d,j}from"../chunks/index.zqSY4AW_.js";function J(n){let e,t,l,i,s,r=n[1].slice(Math.max(n[2]-A,0),n[2])+"",f,c,k,h,a,o,_,g,C,K="Retry",R,O,m=n[2]<A&&L();function F(p,x){return p[4]?ee:te}let I=F(n),y=I(n);return{c(){e=v("div"),t=v("div"),l=v("div"),m&&m.c(),i=P(),s=v("span"),f=D(r),c=P(),y.c(),k=P(),h=v("div"),a=v("span"),o=D(n[2]),_=D(" digits"),g=P(),C=v("button"),C.textContent=K,this.h()},l(p){e=w(p,"DIV",{class:!0});var x=N(e);t=w(x,"DIV",{class:!0});var V=N(t);l=w(V,"DIV",{class:!0});var z=N(l);m&&m.l(z),i=S(z),s=w(z,"SPAN",{class:!0});var G=N(s);f=T(G,r),G.forEach(u),z.forEach(u),c=S(V),y.l(V),V.forEach(u),k=S(x),h=w(x,"DIV",{class:!0});var M=N(h);a=w(M,"SPAN",{class:!0});var U=N(a);o=T(U,n[2]),_=T(U," digits"),U.forEach(u),g=S(M),C=w(M,"BUTTON",{class:!0,"data-svelte-h":!0}),Q(C)!=="svelte-me2dmv"&&(C.textContent=K),M.forEach(u),x.forEach(u),this.h()},h(){b(s,"class","text-6xl svelte-177bw6p"),b(l,"class","absolute right-full text-nowrap gap-0 text-xs svelte-177bw6p"),b(t,"class","h-18 text-zinc-500 text-6xl font-bold relative flex justify-center items-center svelte-177bw6p"),b(a,"class","text-white text-4xl font-bold svelte-177bw6p"),b(C,"class","px-8 py-4 bg-zinc-300 hover:bg-zinc-400 rounded-2xl text-2xl text-black font-bold svelte-177bw6p"),b(h,"class","flex justify-center items-center gap-8 svelte-177bw6p"),b(e,"class","w-full h-screen flex gap-16 flex-col justify-center items-center overflow-clip svelte-177bw6p")},m(p,x){E(p,e,x),d(e,t),d(t,l),m&&m.m(l,null),d(l,i),d(l,s),d(s,f),d(t,c),y.m(t,null),d(e,k),d(e,h),d(h,a),d(a,o),d(a,_),d(h,g),d(h,C),R||(O=B(C,"click",n[9]),R=!0)},p(p,x){p[2]<A?m||(m=L(),m.c(),m.m(l,i)):m&&(m.d(1),m=null),x&6&&r!==(r=p[1].slice(Math.max(p[2]-A,0),p[2])+"")&&j(f,r),I===(I=F(p))&&y?y.p(p,x):(y.d(1),y=I(p),y&&(y.c(),y.m(t,null))),x&4&&j(o,p[2])},d(p){p&&u(e),m&&m.d(),y.d(),R=!1,O()}}}function L(n){let e,t="3.";return{c(){e=v("span"),e.textContent=t,this.h()},l(l){e=w(l,"SPAN",{class:!0,"data-svelte-h":!0}),Q(e)!=="svelte-1kh2xpa"&&(e.textContent=t),this.h()},h(){b(e,"class","text-6xl svelte-177bw6p")},m(l,i){E(l,e,i)},d(l){l&&u(e)}}}function ee(n){let e,t,l,i,s=n[1][n[2]]+"",r,f,c,k=n[1].slice(n[2]+1,n[2]+A)+"",h;return{c(){e=v("span"),t=D(n[3]),l=P(),i=v("span"),r=D(s),f=P(),c=v("span"),h=D(k),this.h()},l(a){e=w(a,"SPAN",{class:!0});var o=N(e);t=T(o,n[3]),o.forEach(u),l=S(a),i=w(a,"SPAN",{class:!0});var _=N(i);r=T(_,s),_.forEach(u),f=S(a),c=w(a,"SPAN",{class:!0});var g=N(c);h=T(g,k),g.forEach(u),this.h()},h(){b(e,"class","border-b-4 border-b-red-500 text-red-500 svelte-177bw6p"),b(i,"class","fixed -translate-y-full text-emerald-600 svelte-177bw6p"),b(c,"class","absolute left-full svelte-177bw6p")},m(a,o){E(a,e,o),d(e,t),E(a,l,o),E(a,i,o),d(i,r),E(a,f,o),E(a,c,o),d(c,h)},p(a,o){o&8&&j(t,a[3]),o&6&&s!==(s=a[1][a[2]]+"")&&j(r,s),o&6&&k!==(k=a[1].slice(a[2]+1,a[2]+A)+"")&&j(h,k)},d(a){a&&(u(e),u(l),u(i),u(f),u(c))}}}function te(n){let e,t,l;return{c(){e=v("input"),this.h()},l(i){e=w(i,"INPUT",{type:!0,step:!0,min:!0,max:!0,class:!0}),this.h()},h(){b(e,"type","number"),b(e,"step","1"),b(e,"min","0"),b(e,"max","9"),b(e,"class","w-12 h-16 number-input bg-transparent text-white border-b-4 border-b-white svelte-177bw6p")},m(i,s){E(i,e,s),n[7](e),t||(l=B(e,"input",n[8]),t=!0)},p:q,d(i){i&&u(e),n[7](null),t=!1,l()}}}function se(n){let e,t,l,i,s=n[1]&&J(n);return{c(){e=P(),s&&s.c(),t=H()},l(r){e=S(r),s&&s.l(r),t=H()},m(r,f){E(r,e,f),s&&s.m(r,f),E(r,t,f),l||(i=B(document.body,"keypress",n[6]),l=!0)},p(r,[f]){r[1]?s?s.p(r,f):(s=J(r),s.c(),s.m(t.parentNode,t)):s&&(s.d(1),s=null)},i:q,o:q,d(r){r&&(u(e),u(t)),s&&s.d(r),l=!1,i()}}}const A=100;function le(n,e,t){let l,i=0,s="",r=!1,f;function c(){t(2,i=0),t(3,s=" "),t(4,r=!1)}X(async()=>{t(1,l=await(await fetch("/pi_1_million.txt")).text()),c()});const k=_=>{_.code=="KeyR"&&c()};function h(_){Y[_?"unshift":"push"](()=>{f=_,t(0,f)})}const a=_=>{const g=_.currentTarget.value;_.currentTarget.value="",_.preventDefault(),!r&&/^\d$/.test(g)&&(l[i]==g?t(2,i++,i):(t(3,s=g),t(4,r=!0)))},o=()=>c();return n.$$.update=()=>{n.$$.dirty&1&&f&&(f==null||f.select())},[f,l,i,s,r,c,k,h,a,o]}class ie extends Z{constructor(e){super(),$(this,e,le,se,W,{})}}export{ie as component};
